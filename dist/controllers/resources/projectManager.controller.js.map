{
  "version": 3,
  "sources": ["../../../src/controllers/resources/projectManager.controller.ts"],
  "sourcesContent": ["import { ProjectManager } from '../../models/projectManager'\nimport { errorResponse, successResponse } from '../../utils/responseFormat'\nimport { Request, Response } from 'express'\nimport { CallbackError, Document } from 'mongoose'\nasync function get (req: Request, res: Response) {\n  try {\n    const pm = await ProjectManager.findById(req.params.id)\n    return res.status(200).json(successResponse(pm, 'Project Manager found'))\n  } catch (err) {\n    return res.status(500).json(errorResponse('Internal server error'))\n  }\n}\n\nasync function create (req: Request, res: Response) {\n  try {\n    const pm = await ProjectManager.create(req.body)\n    return res.status(201).json(successResponse(pm, 'Project Manager created'))\n  } catch (err) {\n    return res.status(500).json(errorResponse('Internal server error'))\n  }\n}\n\nasync function update (req: Request, res: Response) {\n  try {\n    const pm = await ProjectManager.findByIdAndUpdate(req.params.id, req.body, { new: true })\n    return res.status(200).json(successResponse(pm, 'Project Manager updated'))\n  } catch (err) {\n    return res.status(500).json(errorResponse('Internal server error'))\n  }\n}\n\nasync function remove (req: Request, res: Response) {\n  ProjectManager.findByIdAndDelete(req.params.id, (err: CallbackError, doc: Document) => {\n    if (err != null) {\n      return res.status(500).json(errorResponse('Internal server error'))\n    }\n    if (!doc) {\n      return res.status(404).json(errorResponse('Project Manager not found'))\n    }\n    return res.status(200).json(successResponse(doc, 'Project Manager deleted'))\n  })\n}\n\nasync function addProjectOwn (req: Request, res: Response) {\n  try {\n    const pm = await ProjectManager.findByIdAndUpdate(\n      req.params.id,\n      { $addToSet: { projectOwn: req.body.projectId } },\n      { new: true }\n    )\n    return res.status(200).json(successResponse(pm, 'Project added to Project Manager'))\n  } catch (err) {\n    return res.status(500).json(errorResponse('Internal server error'))\n  }\n}\n\nasync function getProjectOwn (req: Request, res: Response) {\n  try {\n    const pm = await ProjectManager.findById(req.params.id).populate('projectOwn')\n    if (pm == null) {\n      return res.status(404).json(errorResponse('Project Manager not found'))\n    }\n    const data = { projects: pm.projectOwn }\n    return res.status(200).json(successResponse(data, ''))\n  } catch (err) {\n    return res.status(500).json(errorResponse('Internal server error'))\n  }\n}\n\nexport {\n  get,\n  create,\n  update,\n  remove,\n  addProjectOwn,\n  getProjectOwn\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA+B;AAC/B,4BAA+C;AAG/C,eAAe,IAAK,KAAc,KAAe;AAC/C,MAAI;AACF,UAAM,KAAK,MAAM,qCAAe,SAAS,IAAI,OAAO,EAAE;AACtD,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,IAAI,uBAAuB,CAAC;AAAA,EAC1E,SAAS,KAAP;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,EACpE;AACF;AAEA,eAAe,OAAQ,KAAc,KAAe;AAClD,MAAI;AACF,UAAM,KAAK,MAAM,qCAAe,OAAO,IAAI,IAAI;AAC/C,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,IAAI,yBAAyB,CAAC;AAAA,EAC5E,SAAS,KAAP;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,EACpE;AACF;AAEA,eAAe,OAAQ,KAAc,KAAe;AAClD,MAAI;AACF,UAAM,KAAK,MAAM,qCAAe,kBAAkB,IAAI,OAAO,IAAI,IAAI,MAAM,EAAE,KAAK,KAAK,CAAC;AACxF,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,IAAI,yBAAyB,CAAC;AAAA,EAC5E,SAAS,KAAP;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,EACpE;AACF;AAEA,eAAe,OAAQ,KAAc,KAAe;AAClD,uCAAe,kBAAkB,IAAI,OAAO,IAAI,CAAC,KAAoB,QAAkB;AACrF,QAAI,OAAO,MAAM;AACf,aAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,IACpE;AACA,QAAI,CAAC,KAAK;AACR,aAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,2BAA2B,CAAC;AAAA,IACxE;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,KAAK,yBAAyB,CAAC;AAAA,EAC7E,CAAC;AACH;AAEA,eAAe,cAAe,KAAc,KAAe;AACzD,MAAI;AACF,UAAM,KAAK,MAAM,qCAAe;AAAA,MAC9B,IAAI,OAAO;AAAA,MACX,EAAE,WAAW,EAAE,YAAY,IAAI,KAAK,UAAU,EAAE;AAAA,MAChD,EAAE,KAAK,KAAK;AAAA,IACd;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,IAAI,kCAAkC,CAAC;AAAA,EACrF,SAAS,KAAP;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,EACpE;AACF;AAEA,eAAe,cAAe,KAAc,KAAe;AACzD,MAAI;AACF,UAAM,KAAK,MAAM,qCAAe,SAAS,IAAI,OAAO,EAAE,EAAE,SAAS,YAAY;AAC7E,QAAI,MAAM,MAAM;AACd,aAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,2BAA2B,CAAC;AAAA,IACxE;AACA,UAAM,OAAO,EAAE,UAAU,GAAG,WAAW;AACvC,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,uCAAgB,MAAM,EAAE,CAAC;AAAA,EACvD,SAAS,KAAP;AACA,WAAO,IAAI,OAAO,GAAG,EAAE,SAAK,qCAAc,uBAAuB,CAAC;AAAA,EACpE;AACF;",
  "names": []
}
